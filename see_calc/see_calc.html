<!-----------------Imports GlowScript Libraries and NumJs------------------------>
<!--




-->

<!DOCTYPE html>

BOOOOOP

<!-- stuff for log in, doesn't work in debug environment so wait until very end-->





<meta http-equiv="Content-Type" content="text/html; charset=utf-8">



<link type="text/css" href="https://www.glowscript.org/css/redmond/2.1/jquery-ui.custom.css" rel="stylesheet" />
<link type="text/css" href="https://www.glowscript.org/css/ide.css" rel="stylesheet" />
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script src="https://cdn.jsdelivr.net/gh/nicolaspanel/numjs@0.15.1/dist/numjs.min.js"></script>




<script type="text/javascript" src="https://www.glowscript.org/lib/jquery/2.1/jquery.min.js"></script>
<script type="text/javascript" src="https://www.glowscript.org/lib/jquery/2.1/jquery-ui.custom.min.js"></script>
<script type="text/javascript" src="https://www.glowscript.org/package/glow.3.0.min.js"></script>
<script type="text/javascript" src="https://www.glowscript.org/package/RSrun.3.0.min.js"></script>





<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/10.6.4/math.js"></script>
<script src="https://cdn.jsdelivr.net/pyodide/v0.20.0/full/pyodide.js"></script>  


<!-- not needed since its imported in worker, only including it so i can use it in the debugger-->

<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
<script src="handle_log_in.js"></script>


<!-- firebase-->
<script src="https://www.gstatic.com/firebasejs/3.5.2/firebase.js"></script>

<!-- mathquill -->
<link rel="stylesheet" href="mathquill/mathquill.css"/>
<!-- interferes with GS and it looks like mathquill doesnt require it (i think as long as it has the other jquery version)-->
<!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>-->
<script src="mathquill/mathquill.js"></script>


<!-- nerdamer just used to convert from latex -->
<script src="nerdamer/all.min.js"></script>



<link rel="stylesheet" href="main.css"/>
<link rel="stylesheet" href="calc_blocks.css"/>









<!-- Your Firebase Config -->
<script>







// Add a button in your HTML to trigger the sign-in
</script>


<!--
<img class="menu-symbol-img" src='icons/arrow-rotate-left-solid-gray.svg' onmouseover="this.src='icons/arrow-rotate-left-solid-white.svg';" onmouseout="this.src='icons/arrow-rotate-left-solid-gray.svg';" />
      <img class="menu-symbol-img" src='icons/arrow-rotate-right-solid-gray.svg' onmouseover="this.src='icons/arrow-rotate-right-solid-white.svg';" onmouseout="this.src='icons/arrow-rotate-right-solid-gray.svg';" />

-->



<div id="top-menu">

    <button class="menu-text" style="display: none" onclick="clear_sheet()">Clear Sheet</button>


    <button  class="menu-text" style="display: none" onclick="undo()">
      Undo


    </button>

    <button  id="toggle-blocks" class="menu-text" onclick="toggle_blocks()"></button>


    <button  id="run-button" class="menu-text" onclick="run_sheet()">
      Run Sheet
    </button>

    <button  class="menu-text"style="display: none" onclick="redo()"> 
      Redo

    </button>



    <button  class="menu-text visual-toggle" onclick="view_xy()" style="display:none">Reset View</button>
    
    <button  style="float:right" class="menu-text menu-text-selected" onclick="toggle_library(event)">Library</button>
    
     


    <button style="float: right" class="menu-text" onclick="toggle_about(event)">About</button>




</div>


<div id="OLD-solve-steps"  style="display: none;"></div>


<div id="library" class="popup" style="display:block">
    



    <div class="library-label" id="user-content-label">User Content</div>
    <button id="sign-in" onclick="signInWithGoogle()" >Sign in with Google</button>

    <br>
    <input style="height:100%" id="save-field" pattern="[A-Za-z]+" placeholder="Sheet name">
    <button  onclick="save_sheet()" id="save-sheet-btn" id="save-button">Save</button>
    <br>
    <span id="save-field-error-msg" ></span>

    <div class="library-label">Examples</div>
    <div id="user-content">Loading library...</div>

    <div id="public-content"></div>
    
</div>



<div id="about" class="popup" style="display: none;">
  <div class="library-label">About the sheet</div>
  <textarea id="about-field" style="resize: none;width:90%;height:200px"></textarea>
  <div class="library-label">About the site</div>
  super informative stuff, probably link to something else
</div>


<div id="calc"></div>




<div id="vis"></div>



    




<div id="eqn-tree" style="background-color: white;"></div>

<!-- regex library -->
<script src="https://cdn.jsdelivr.net/npm/verbal-expressions@1.0.2/dist/verbalexpressions.min.js"></script>

<!-- database of visuals -->

<script src="latex_conversions.js"></script>

<script src="treant-js-master\vendor\raphael.js"></script>
<script src="treant-js-master\Treant.js"></script>
<link rel="stylesheet" href="treant-js-master\Treant.css">

<script src="visuals/color_map.js"></script>
<script src="vis_database.js"></script>
<script src="visuals/channel.js"></script>
<script src="visuals/coordinates_and_points.js"></script>
<script src="visuals/curved_arrow.js"></script>
<script src="visuals/geometry_visuals.js"></script>
<script src="visuals/planetary.js"></script>
<script src="visuals/soil_properties.js"></script>
<script src="visuals/stress_rotate_2d.js"></script>
<script src="visuals/stress_strain.js"></script>
<script src="visuals/stretchy_rod.js"></script>
<script src="visuals/twisty_rod.js"></script>
<script src="visuals/water_wave.js"></script>
<script src="visuals/pipe.js"></script>
<script src="visuals/beam.js"></script>



<script src="UI_tree.js"></script>
<script src="cas.js"></script>
<script src="solver.js"></script>
<script src="compute_sheet.js"></script>
<script src="see_calc.js"></script>

<script src="testing.js"></script>

<script src="test.js"></script>

<script src="rad_to_deg.js"></script>

<script src="fix_sheet_visuals.js"></script>