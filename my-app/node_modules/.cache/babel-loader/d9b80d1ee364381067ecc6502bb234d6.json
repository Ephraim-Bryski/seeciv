{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\brisk\\\\OneDrive\\\\Documents\\\\GitHub\\\\seeciv\\\\my-app\\\\src\\\\App.js\";\nimport React, { useState } from \"react\";\nimport { addStyles, EditableMathField, StaticMathField } from \"react-mathquill\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\naddStyles();\n\nfunction computeSheet() {\n  // do a check for duplicate names\n  // now system names must be in order ):\n  for (let i = 0; i < sheetData.length; i++) {\n    var SoE = sheetData[i];\n    var eqns = SoE.eqns;\n    var systemName = SoE.name;\n\n    for (let j = 0; j < eqns.length; j++) {\n      var eqn = eqns[j].eqn; // check if reference:\n\n      if (!eqn.includes(\"=\")) {\n        // check if a name on sheet:\n        if (!systemNames.includes(eqn)) {\n          console.log(eqn);\n          console.log('error: must be equation or name of system of equations');\n        } else if (usedNames.includes(eqn) && eqns[j].operation == \"solve\") {\n          var names = [];\n          var system = [];\n\n          for (let i = 0; i < sheetData.length; i++) {\n            names.push(sheetData[i].name);\n          }\n\n          var iRef = names.findIndex(name => name == eqn);\n\n          for (let i = 0; i < sheetData[iRef].eqns.length; i++) {\n            system.push(sheetData[iRef].eqns[i].result);\n          }\n\n          var result = solve(system[iRef]);\n        }\n      } else if (eqns[j].operation == \"solve\") {\n        var result = solve(eqns[j]);\n      }\n    }\n  }\n}\n\nclass Sheet extends React.Component {\n  // constructor has states with sheet info?\n  constructor(props) {\n    super(props);\n    this.state = {\n      SoEs: [{\n        name: \"SoE 1\",\n        eqns: [{\n          eqn: \"x+4=5\",\n          operation: \"solve\",\n          solvefor: \"x\",\n          result: \"\" // this would be computed: x=1\n\n        }, {\n          eqn: \"a+3=b\",\n          operation: \"substitute\",\n          substitutefor: {\n            b: \"x\"\n          },\n          result: \"\" // this would be computed: a+3=x\n\n        }]\n      }, {\n        name: \"SoE 2\",\n        eqns: [{\n          eqn: \"SoE 1\",\n          operation: \"solve\",\n          solvefor: \"a\",\n          result: \"cool result!\" // this would be computed: a=x-3=1-3=-2 (not sure how many steps to show)\n\n        }]\n      }]\n    };\n  }\n\n  inputEqnUpdate(i, j, eqnStruct) {\n    this.state.SoEs[i].eqns[j] = eqnStruct;\n  }\n\n  updateSheet() {// no inputs\n    // access this.state.SoEs\n    // \n  }\n\n  render() {\n    var sheetElements = [];\n\n    for (let i = 0; i < this.state.SoEs.length; i++) {\n      var SoE = this.state.SoEs[i]; //this.SoEs[i].name=newName\n\n      sheetElements.push( /*#__PURE__*/_jsxDEV(Name, {\n        onEdit: newName => {\n          // updating one part of SoEs state (likely better approach):\n          this.state.SoEs[i].name = newName;\n          this.setState({\n            SoEs: [...this.state.SoEs]\n          });\n        },\n        text: SoE\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 29\n      }, this));\n\n      for (let j = 0; j < SoE.eqns.length; j++) {\n        sheetElements.push( /*#__PURE__*/_jsxDEV(Line, {\n          onEdit: newEqn => {\n            console.log(this.state.SoEs);\n            this.state.SoEs[i].eqns[j].eqn = newEqn;\n            this.setState({\n              SoEs: [...this.state.SoEs]\n            });\n          },\n          eqnStruct: SoE.eqns[j]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 32\n        }, this));\n      }\n    }\n\n    return sheetElements;\n  }\n\n}\n\nclass Name extends React.Component {\n  render() {\n    //const name=<tr><td></td></tr>\n    const editField = /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: this.props.text.name,\n      onChange: e => {\n        this.props.onEdit(e.target.value);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 22\n    }, this);\n\n    return /*#__PURE__*/_jsxDEV(\"tr\", {\n      children: /*#__PURE__*/_jsxDEV(\"td\", {\n        children: editField\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nclass Line extends React.Component {\n  render() {\n    const eqnStruct = this.props.eqnStruct;\n    console.log(eqnStruct.result);\n\n    const line = /*#__PURE__*/_jsxDEV(\"tr\", {\n      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(EditableMathField, {\n          latex: \"\",\n          onChange: mathField => {\n            this.props.onEdit(mathField.latex());\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(StaticMathField, {\n          children: \"\\\\text{\".concat(eqnStruct.result).concat(\"}\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 14\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 10\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 17\n    }, this);\n\n    return line;\n  }\n\n}\n\nexport default Sheet;","map":{"version":3,"sources":["C:/Users/brisk/OneDrive/Documents/GitHub/seeciv/my-app/src/App.js"],"names":["React","useState","addStyles","EditableMathField","StaticMathField","computeSheet","i","sheetData","length","SoE","eqns","systemName","name","j","eqn","includes","systemNames","console","log","usedNames","operation","names","system","push","iRef","findIndex","result","solve","Sheet","Component","constructor","props","state","SoEs","solvefor","substitutefor","b","inputEqnUpdate","eqnStruct","updateSheet","render","sheetElements","newName","setState","newEqn","Name","editField","text","e","onEdit","target","value","Line","line","mathField","latex","concat"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { addStyles, EditableMathField, StaticMathField } from \"react-mathquill\";\naddStyles();\n\n\nfunction computeSheet(){\n  // do a check for duplicate names\n  \n  // now system names must be in order ):\n\n  for (let i=0;i<sheetData.length;i++){\n    var SoE=sheetData[i]\n    var eqns=SoE.eqns\n    var systemName=SoE.name\n    for (let j=0;j<eqns.length;j++){\n        var eqn=eqns[j].eqn\n\n        // check if reference:\n        if (!eqn.includes(\"=\")){\n            // check if a name on sheet:\n            if (!systemNames.includes(eqn)){\n                console.log(eqn)\n                console.log('error: must be equation or name of system of equations')\n            }else if (usedNames.includes(eqn) && eqns[j].operation==\"solve\"){\n                var names=[]\n                var system=[]\n                for (let i=0;i<sheetData.length;i++){\n                    names.push(sheetData[i].name)      \n                }\n                var iRef=names.findIndex((name)=>name==eqn)\n                for (let i=0;i<sheetData[iRef].eqns.length;i++){\n                    system.push(sheetData[iRef].eqns[i].result)\n                }\n                var result=solve(system[iRef])\n            }\n        }else if(eqns[j].operation==\"solve\"){\n            var result=solve(eqns[j])\n        }\n\n    \n    }\n  }\n}\n\n\n\nclass Sheet extends React.Component {\n  // constructor has states with sheet info?\n constructor(props){\n     super(props)\n     this.state= {\n         SoEs:[\n         {\n             name:\"SoE 1\",\n             eqns: [\n                 {\n                     eqn:\"x+4=5\",\n                     operation: \"solve\",\n                     solvefor: \"x\",\n                     result:\"\", // this would be computed: x=1\n                 },\n                 {\n                     eqn:\"a+3=b\",\n                     operation: \"substitute\",\n                     substitutefor: {b: \"x\"},\n                     result: \"\" // this would be computed: a+3=x\n                 }\n             ]\n         },\n         {\n             name:\"SoE 2\",\n             eqns: [\n                 {\n                     eqn:\"SoE 1\",\n                     operation: \"solve\",\n                     solvefor: \"a\",\n                     result: \"cool result!\", // this would be computed: a=x-3=1-3=-2 (not sure how many steps to show)\n                 },\n             ]\n         }\n     ]\n     }\n }\n\n\n inputEqnUpdate(i,j,eqnStruct){this.state.SoEs[i].eqns[j]=eqnStruct}\n\n updateSheet(){\n   // no inputs\n   // access this.state.SoEs\n   // \n }\n\n render(){\n     var sheetElements=[]\n     for (let i=0;i<this.state.SoEs.length;i++){\n         var SoE=this.state.SoEs[i]\n         //this.SoEs[i].name=newName\n\n         sheetElements.push(<Name \n         \n             onEdit={(newName)=>\n                 {\n                    // updating one part of SoEs state (likely better approach):\n                    this.state.SoEs[i].name=newName\n                    this.setState({SoEs:[...this.state.SoEs]})\n                 }\n             } \n             text={SoE}\n         />)\n\n         \n\n         for (let j=0;j<SoE.eqns.length;j++){\n            sheetElements.push(<Line \n              onEdit={(newEqn)=>\n                {\n                  console.log(this.state.SoEs)\n                  this.state.SoEs[i].eqns[j].eqn=newEqn\n                  this.setState({SoEs:[...this.state.SoEs]})\n\n\n                }\n              }\n              eqnStruct={SoE.eqns[j]}\n              \n            />)\n         }\n     }\n     return(\n         sheetElements\n     )\n \n }\n}\n\nclass Name extends React.Component {\n render(){\n     //const name=<tr><td></td></tr>\n     const editField=<input \n         type=\"text\" \n         value={this.props.text.name} \n         onChange={(e)=>{this.props.onEdit(e.target.value)\n         }\n         \n     }\n     >\n     </input>\n\n     return <tr><td>{editField}</td></tr>\n } \n}\n\nclass Line extends React.Component { \n  render() {\n     const eqnStruct=this.props.eqnStruct\n     console.log(eqnStruct.result)\n     const line=<tr> \n         <td>\n            <EditableMathField \n              latex=\"\"  \n              onChange={(mathField)=>{this.props.onEdit(mathField.latex())\n              }       \n              }\n          \n            />\n\n         </td>\n         <td>\n             <StaticMathField>{\"\\\\text{\".concat(eqnStruct.result).concat(\"}\")}</StaticMathField>\n         </td>\n     </tr>\n\n\n      return line\n }\n}\n\nexport default Sheet\n\n"]},"metadata":{},"sourceType":"module"}